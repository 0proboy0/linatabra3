(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}window.location.search;body=document.body,wilayaSelect=document.getElementById("wilayaSelect"),userWilayaCode=document.getElementById("userWilayaCode"),wilayaSelect.value=userWilayaCode.innerText,dairaSelect=document.getElementById("dairaSelect"),userDairaCode=document.getElementById("userDairaCode");var t,n,i=document.getElementsByTagName("html"),a=(n=1,function(e){if(Array.isArray(e))return e}(t=i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}}(t,n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].getAttribute("lang"),r=new XMLHttpRequest;r.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText).forEach((function(e){option=document.createElement("option"),option.value=e.id,option.text="ar"===a?e.arName:e.name,dairaSelect.add(option),dairaSelect.removeAttribute("disabled")}))},r.open("GET","/api/dairas/"+userWilayaCode.innerText,!0),r.send(),dairaSelect.value=userDairaCode.innerText,readyToGive=document.getElementById("readyToGive"),userIsReadyToGive=document.getElementById("userIsReadyToGive");var o="1"==userIsReadyToGive.innerText;readyToGive.checked=o;var s=document.getElementById("id_password_current_password"),d=document.getElementById("id_password"),l=document.getElementById("id_confirm_password"),u=document.forms[1];function c(){return s.value.length>0?(s.classList.remove("is-invalid"),!0):(s.classList.add("is-invalid"),!1)}function v(){return d.value.length>=8?(d.classList.remove("is-invalid"),!0):(d.classList.add("is-invalid"),!1)}function m(){return d.value===l.value?(l.classList.remove("is-invalid"),!0):(l.classList.add("is-invalid"),!1)}s.addEventListener("input",c),d.addEventListener("input",v),l.addEventListener("input",m),u.addEventListener("submit",(function(e){c()&&v()&&m()?u.submit():(e.preventDefault(),e.stopPropagation(),window.setTimeout((function(){var e=document.querySelectorAll(".is-invalid");e.length&&window.scrollTo({top:e[0].offsetTop-100,behavior:"smooth"})}),0))}));var y=document.getElementById("wilayaSelect"),p=document.getElementById("dairaSelect"),f=document.getElementById("id_phone"),g=document.getElementById("id_email"),h=document.forms[2];function E(){return"Wilaya"===y.options[y.selectedIndex].text||"الولاية"===y.options[y.selectedIndex].text?(y.classList.add("is-invalid"),!1):(y.classList.remove("is-invalid"),!0)}function L(){return"Daira"===p.options[p.selectedIndex].text||"الدائرة"===p.options[p.selectedIndex].text?(p.classList.add("is-invalid"),!1):(p.classList.remove("is-invalid"),!0)}function w(){return/\D/.test(f.value)||f.value.length<10||!f.value.startsWith("05")&!f.value.startsWith("06")&!f.value.startsWith("07")?(f.classList.add("is-invalid"),!1):(f.classList.remove("is-invalid"),!0)}function I(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.value)?(g.classList.remove("is-invalid"),!0):(g.classList.add("is-invalid"),!1)}y.addEventListener("input",E),p.addEventListener("input",L),f.addEventListener("input",w),g.addEventListener("input",I),h.addEventListener("submit",(function(e){E()&&L()&&w()&&I()?h.submit():(e.preventDefault(),e.stopPropagation(),window.setTimeout((function(){var e=document.querySelectorAll(".is-invalid");e.length&&window.scrollTo({top:e[0].offsetTop-100,behavior:"smooth"})}),0))}))})();