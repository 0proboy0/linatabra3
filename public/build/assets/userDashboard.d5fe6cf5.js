body=document.body;wilayaSelect=document.getElementById("wilayaSelect");userWilayaCode=document.getElementById("userWilayaCode");wilayaSelect.value=userWilayaCode.innerText;dairaSelect=document.getElementById("dairaSelect");userDairaCode=document.getElementById("userDairaCode");const[g]=document.getElementsByTagName("html"),h=g.getAttribute("lang");var l=new XMLHttpRequest;l.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var i=JSON.parse(this.responseText);i.forEach(e=>{option=document.createElement("option"),option.value=e.id,option.text=h==="ar"?e.arName:e.name,dairaSelect.add(option),dairaSelect.removeAttribute("disabled")})}};l.open("GET","/api/dairas/"+userWilayaCode.innerText,!0);l.send();dairaSelect.value=userDairaCode.innerText;readyToGive=document.getElementById("readyToGive");userIsReadyToGive=document.getElementById("userIsReadyToGive");var L=userIsReadyToGive.innerText=="1";readyToGive.checked=L;const r=document.getElementById("id_password_current_password"),n=document.getElementById("id_password"),o=document.getElementById("id_confirm_password"),u=document.forms[1];function m(){return r.value.length>0?(r.classList.remove("is-invalid"),!0):(r.classList.add("is-invalid"),!1)}function v(){return n.value.length>=8?(n.classList.remove("is-invalid"),!0):(n.classList.add("is-invalid"),!1)}function f(){return n.value===o.value?(o.classList.remove("is-invalid"),!0):(o.classList.add("is-invalid"),!1)}r.addEventListener("input",m);n.addEventListener("input",v);o.addEventListener("input",f);function I(){return!(!m()||!v()||!f())}u.addEventListener("submit",i=>{I()?u.submit():(i.preventDefault(),i.stopPropagation(),window.setTimeout(function(){var e=document.querySelectorAll(".is-invalid");e.length&&window.scrollTo({top:e[0].offsetTop-100,behavior:"smooth"})},0))});const a=document.getElementById("wilayaSelect"),s=document.getElementById("dairaSelect"),t=document.getElementById("id_phone"),d=document.getElementById("id_email"),c=document.forms[2];function p(){return a.options[a.selectedIndex].text==="Wilaya"||a.options[a.selectedIndex].text==="\u0627\u0644\u0648\u0644\u0627\u064A\u0629"?(a.classList.add("is-invalid"),!1):(a.classList.remove("is-invalid"),!0)}function y(){return s.options[s.selectedIndex].text==="Daira"||s.options[s.selectedIndex].text==="\u0627\u0644\u062F\u0627\u0626\u0631\u0629"?(s.classList.add("is-invalid"),!1):(s.classList.remove("is-invalid"),!0)}function E(){return/\D/.test(t.value)||t.value.length<10||!t.value.startsWith("05")&!t.value.startsWith("06")&!t.value.startsWith("07")?(t.classList.add("is-invalid"),!1):(t.classList.remove("is-invalid"),!0)}function w(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.value)?(d.classList.remove("is-invalid"),!0):(d.classList.add("is-invalid"),!1)}function T(){return p()&&y()&&E()?!!w():!1}a.addEventListener("input",p);s.addEventListener("input",y);t.addEventListener("input",E);d.addEventListener("input",w);c.addEventListener("submit",i=>{T()?c.submit():(i.preventDefault(),i.stopPropagation(),window.setTimeout(function(){var e=document.querySelectorAll(".is-invalid");e.length&&window.scrollTo({top:e[0].offsetTop-100,behavior:"smooth"})},0))});
